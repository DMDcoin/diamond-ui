import{u as p,d as f,b as C,a as g,r as a,j as e}from"./index-en87ZZnQ.js";import{P as u}from"./index-1c5K0dfp.js";import{D as j}from"./index-CkyZ3OvH.js";const m="_sectionContainer_22flx_1",_="_allDaoProposals_22flx_9",v="_daoHeading_22flx_18",P="_daoSearch_22flx_23",S="_daoInfoContainer_22flx_39",y="_historicProposalsLink_22flx_64",k="_filterContainer_22flx_88",o={sectionContainer:m,allDaoProposals:_,daoHeading:v,daoSearch:P,daoInfoContainer:S,historicProposalsLink:y,filterContainer:k},w=()=>{const r=p(),t=f(),i=C(),n=g(),[l,c]=a.useState(""),[d,h]=a.useState("");a.useEffect(()=>{try{!t.activeProposals.length&&i.web3Initialized&&(i.showLoader(!0,""),t.getActiveProposals())}catch{}},[i.web3Initialized]);const x=s=>{a.startTransition(()=>{r(`/dao/details/${s}`)})};return e.jsx("section",{className:"section",children:e.jsxs("div",{className:o.sectionContainer+" sectionContainer",children:[e.jsxs("div",{className:o.daoInfoContainer,children:[e.jsxs("div",{children:[e.jsx("h1",{className:o.daoHeading,children:"Governance"}),e.jsxs("p",{children:["Stake:"," ",n.myTotalStake?n.myTotalStake.dividedBy(10**18).toFixed(0):0," ","DMD"]}),e.jsxs("p",{children:["Voting power"," ",e.jsxs("span",{style:{fontWeight:"bold"},children:[n.myPool?n.myPool.votingPower.toString():0,"%"]})]})]}),e.jsx(j,{})]}),e.jsxs("div",{className:o.allDaoProposals,children:[e.jsx("h2",{children:"Active Proposals"}),e.jsxs("div",{className:o.filterContainer,children:[e.jsx("input",{type:"text",placeholder:"Search ",className:o.daoSearch,onChange:s=>h(s.target.value)}),e.jsxs("select",{id:"filter",value:l,onChange:s=>c(s.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"myProposals",children:"My proposals"})]})]}),e.jsx("div",{children:e.jsx(u,{data:t.activeProposals,handleDetailsClick:x,getStateString:t.getStateString,searchQuery:d,filterQuery:l})})]}),e.jsx("span",{onClick:()=>a.startTransition(()=>r("/dao/historic")),className:o.historicProposalsLink,children:"Historic Proposals"})]})})};export{w as default};
